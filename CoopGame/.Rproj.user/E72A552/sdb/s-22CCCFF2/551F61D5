{
    "collab_server" : "",
    "contents" : "#' @name isSuperadditiveGame\n#' @title isSuperadditiveGame\n#' @description Checks if a TU game for n players is superadditive. \\cr\n#' In a superadditive game for any two disjoint coalitions \n#' \\code{S} and \\code{T} the value of the union of \n#' \\code{S} and \\code{T} is always greater or equal \n#' the sum of the values of \\code{S} and \\code{T}. \n#' In other words, the members of any two disjoint \n#' coalitions \\code{S} and \\code{T} will never be \n#' discouraged from collaborating.\n#' @aliases isSuperadditiveGame\n#' @export isSuperadditiveGame\n#' @template author/AT\n#' @template author/JS\n#' @template cites/PELEG_ET_SUDHOELTER_2007\n#' @templateVar PELEG_ET_SUDHOELTER_2007_P p. 10\n#' @template cites/PETERS_2015\n#' @templateVar PETERS_2015_P p. 295\n#' @template cites/MASCHLER_ET_SOLAN_ET_ZAMIR_2013\n#' @templateVar MASCHLER_ET_SOLAN_ET_ZAMIR_2013_P p. 671\n#' @template cites/NARAHARI_2015\n#' @templateVar NARAHARI_2015_P p. 408 \n#' @inheritParams CoopGameBaseParams\n#' @return \\code{TRUE} if the game is superadditive, else \\code{FALSE}.\n#' @examples\n#' #Example of a superadditive game\n#' library(CoopGame)\n#' A=c(0,0,0,40,50,20,100) \n#' isSuperadditiveGame(A)\n#' \n#' #Example of a game that is not superadditive \n#' library(CoopGame)\n#' A=c(0,0,0,40,30,130,100) \n#' isSuperadditiveGame(A)\n#' \n#' #Another example of a superadditive game\n#' library(CoopGame)\n#' A=c(1,1,1,1, 2,2,2,2,2,2, 3,3,3,3, 4)\n#' isSuperadditiveGame(A)\n#' \nisSuperadditiveGame<-function(A){\n  isE=GamePropertySuperadditivity(A)\n  return(determineProperty(isE))\n}\n\nlogicIsSuperadditiveGame<-function(A){\n\n  #get number of players\n  numberOfPlayers=getNumberOfPlayers(A)\n\n  #result value\n  result<-TRUE\n\n  bitMatrix=createBitMatrix(n = numberOfPlayers, A)\n\n  #start checking at a set of two\n  i<-numberOfPlayers+1\n  end<-nrow(bitMatrix)\n\n  bounds<-factorial(numberOfPlayers)/(factorial(1:(numberOfPlayers-1))*factorial((numberOfPlayers-1):1))\n\n  while(i<=end){\n\n    #number of players in the set which is checked\n    numberOfCurrSet<-sum(bitMatrix[i,1:numberOfPlayers])\n    #upper bound for combinations which has to be checked\n    currCheckComb<-sum(bounds[1:(numberOfCurrSet-1)])\n    #lower bound for combinations to check for current set\n    if(numberOfCurrSet/2==1){\n      lowerBound = 0\n    }else{\n      lowerBound<-sum(bounds[1:(ceiling(numberOfCurrSet/2)-1)])\n    }\n\n    #payoff for the current set of players\n    payOffUnion = bitMatrix[[i,\"cVal\"]]\n\n    while(currCheckComb > lowerBound){\n\n      hitSetCount<-sum(bitMatrix[i,1:numberOfPlayers]&bitMatrix[currCheckComb,1:numberOfPlayers])\n      hitSetCountSubset<-sum(bitMatrix[currCheckComb,1:numberOfPlayers])\n      #check only those combinations which hit the current combi at least for the half\n      #of the set which is checked\n      if(hitSetCount>=numberOfCurrSet/2 && hitSetCount==hitSetCountSubset){\n\n        #go through combinations for the current set to check if it's superadditive\n        payOffS = bitMatrix[[currCheckComb,\"cVal\"]]\n        payOffT = A[indexCoalition(numberOfPlayers, setdiff(which(bitMatrix[i,1:numberOfPlayers]&1), which(bitMatrix[currCheckComb,1:numberOfPlayers]&1)))]\n        result = (payOffUnion >= payOffS + payOffT)\n        if(!result){\n          return(result)\n        }\n      }\n\n      currCheckComb<-currCheckComb-1\n    }\n\n    i<-i+1\n  }\n\n  return(result)\n}\n\n#' @title GamePropertySuperadditivity\n#' @noRd\n#' @include GameProperty.R\n#' #@exportClass GamePropertySuperadditivity\n\nsetClass(\n  \"GamePropertySuperadditivity\",\n  contains = \"GameProperty\"\n)\n\n#' @title Constructor for GamePropertySuperadditivity\n#' @noRd\n#' @template author/JA\n#' @name GamePropertySuperadditivity\n#' #@export\nGamePropertySuperadditivity<-function(A){\n  retGamePropertySuperadditivity=methods::new(\"GamePropertySuperadditivity\",A)\n  return(retGamePropertySuperadditivity)\n}\n\n#' @rdname determineProperty-methods\n#' @aliases determineProperty,GamePropertySuperadditivity-method\nsetMethod(\n  \"determineProperty\",\n  signature=\"GamePropertySuperadditivity\",\n  definition=function(.Object){\n    A<-.Object@A\n    result=logicIsSuperadditiveGame(A)\n    return(result)\n  }\n)\n\n\n\n\n",
    "created" : 1536696013392.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2543635497",
    "id" : "551F61D5",
    "lastKnownWriteTime" : 1537215659,
    "last_content_update" : 1537215659,
    "path" : "C:/Users/Johannes/Dropbox/UNIVERSITAET/Master_Inf/MASTER_ARBEIT/SVN_REPO/CoopGame/R/GamePropertySuperadditivity.R",
    "project_path" : "R/GamePropertySuperadditivity.R",
    "properties" : {
    },
    "relative_order" : 129,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}